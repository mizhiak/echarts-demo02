<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>index</title>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/echarts.min.js"></script>
<script type="text/javascript" src="js/china.js"></script>
<script type="text/javascript" src="js/map.js"></script>
<script type="text/javascript" src="js/js.js"></script>
<script type="text/javascript" src="js/RealTimeProductionStatus.js"></script> 
<script type="text/javascript" src="js/inventory.js"></script>
<script type="text/javascript" src="js/ProductionPlan.js"></script> 
<script type="text/javascript" src="js/shipment.js"></script>
<script type="text/javascript" src="js/faultclassification.js"></script>
<script type="text/javascript" src="js/sales_ranking.js"></script>
<script type="text/javascript" src="js/Bubble.js"></script>
<script type="text/javascript" src="js/guangxi.js"></script>
<script type="text/javascript" src="js/hetong.js"></script>
<script type="text/javascript" src="js/badahangye.js"></script>
<!-- <script type="text/javascript" src="js/xlsx.core.min.js"></script> -->
<link rel="stylesheet" href="css/style.css">
<style>
  .map{
    width: 1240px;
    height: 640px;
  }

/* 时间位置 */
  #showTime{
    position: absolute;
    top: 0px;
    right: 10px;
  }

  /* 标题样式动图 */
  .sidebar{
    width: 290px;
    height: 290px;
  }
  #bottom-sidebar{
    position: absolute;
    right: 875px;
    top: 0px;
  }

  
</style>
</head>
<body>

    <div class="sidebar" id="bottom-sidebar">
        <img src="images\bottombar.gif" alt="">
    </div>

    <div class="head clearfix">
        <h1 style="text-align: center;" >数广宝德大数据监控平台</h1>

        <div class="time" id="showTime" >2021/6/12 17:00:12 </div>
        <script>
            var t = null;
            t = setTimeout(time,1000);//開始运行
            function time()
            {
               clearTimeout(t);//清除定时器
                dt = new Date();
                var y=dt.getFullYear();
                var mt=dt.getMonth()+1;
                var day=dt.getDate();
                var h=dt.getHours();//获取时
                var m=dt.getMinutes();//获取分
                var s=dt.getSeconds();//获取秒
                document.getElementById("showTime").innerHTML = y+"/"+mt+"/"+day+" "+h+":"+m+":"+s+"";
                t = setTimeout(time,1000); //设定定时器，循环运行     
            } 
        </script>
    </div>
 
    <div class="mainbox">

        <ul class="clearfix nav1">
            <li style="width: 22%">
                
                <!-- 质量日报 -->
                <div class="box">
                    <div class="tit">质量日报</div>
                    <div class="boxnav" style="height: 200px;" id="dailyQR">
                        <IFRAME NAME="daily_quality_report" width=100% height=100% frameborder="no" border="0" marginwidth=0 marginheight=0 SRC="质量日报.html" ></IFRAME>
                    </div>
                </div>

                 <!-- 故障分类 -->
                <div class="box">
                    <div class="tit">异常分类</div>
                    <div class="" style="padding-top:15px;height: 190px" id="show_fault"></div>
                    <div class="boxnav" style="padding-top:15px; height: 110px;">
                        <IFRAME NAME="fault_classification" width=100% height=100% frameborder="no" border="0" marginwidth=0 marginheight=0 SRC="故障分类.html" ></IFRAME>
                    </div>
                </div>
            </li>

            <li style="width: 56%">
            
            <!-- 地区销量排行 Regional sales ranking-->
            <div class="box">
                <div class="boxnav mapc" style="height: 600px;">
                    <div class="mapnav"></div>
                    <div class="mapnav2">
                
                        <div class="">
                            <div class="tit">地区销量排行</div>
                            <div class="boxnav" style="height: 480px;" id="id_sales_ranking"></div>
                            
                        </div>
                    </div>
                    <div class="map" style="height: 500px;" id="guangxi-map"></div>
                    
                    <!-- <script>
                    $(".mapbtn a").hover(function(){
                        var ind=$(this).index()
                        $(".mapnav ul").eq(ind).show().siblings().hide()
                    })
                    </scrip> -->
                </div>
            </div>
            
            </li>


            <li style="width: 22%">
            
                <!-- 发货总量 -->
                <div class="box">
                    <div class="tit">发货总量</div>
                    <div class="boxnav" id="total_shipment" style="height: 200px;"> </div>
                </div>

                <!-- 市场预测 -->
                <div class="box">
                    <div class="tit">市场预测</div>
                    <div class="boxnav" style="height: 300px;">

                        <div style="height: 150px; float: left; width: 30%; padding: 0 5px;">
                            <div class="tit01">信创</div>
                            <div id="hetong" style="height: 300px;"></div>
                        </div>
                
                        <div style="height: 150px; float: left; width: 70%">
                            <div class="tit01">八大行业</div>
                            <div id="hangye" style="height: 300px;"></div>
                        </div>
                    </div>
                </div>
            
            </li>
        </ul>

        <div class="box" style="width:100%; height:350px">

            <ul class="clearfix nav2 ">

                <li style="padding-top:15px; width:33%; height: 100%">
                    <!-- 物料库存 -->
                    <div class="tit01">物料库存</div>
                    <div>
                        <div style="float: none; width: 100%; height: 320px" id="inv_pc"></div>
                    </div>
                </li>

                <li style="padding-top:15px; width:34%; height: 100%">
                    <div class="tit01">生产计划</div>
                    <div class="ftechart" style="float: none; height: 300px" id="production_plan"></div>
                </li>

                <li style="padding-top:15px; width:33%; height: 100%">
                    <div class="tit01">生产实时状况</div>
                    <div style="float: none; width: 100%; height: 300px">
                        <IFRAME NAME="real_time" width=100% height=100% frameborder="no" border="0" marginwidth=0 marginheight=0 SRC="产线看板.html" ></IFRAME>
                    </div>
                </li>

        
            </ul>
        </div>

    </div>
       
    <script>

        // ******** real_time_productions ************

        // ******** 2021合同签约总额 hetongzonger************ 
        var hetong_chart = echarts.init(document.getElementById('hetong'));
        var hetong_chart_ret = ShowHetong();
        hetong_chart.setOption(hetong_chart_ret);

        var hangye_chart = echarts.init(document.getElementById('hangye'));
        var hangye_chart_ret = ShowHangye();
        hangye_chart.setOption(hangye_chart_ret);

        // ******** 异常分类 show_fault************ 
        var fault_chart = echarts.init(document.getElementById('show_fault'));
        var  fault_chart_ret = ShowFault();
        fault_chart.setOption(fault_chart_ret);


        // ******** 地区销量排行 id_sales_ranking************ 
        var sales_ranking_chart = echarts.init(document.getElementById('id_sales_ranking'));
        var  sales_ranking_ret = ShowSalesRanking();
        sales_ranking_chart.setOption(sales_ranking_ret);


        // ******** 发货总量 total_shipment************
        var total_shipment_chart = echarts.init(document.getElementById('total_shipment'));
        var  total_shipment_chart_ret = ShowTotalShipment();
        total_shipment_chart.setOption(total_shipment_chart_ret);

      
        // ******** 生产计划 Production plan echart4************
        var production_plan_chart = echarts.init(document.getElementById('production_plan'));
        var  r_p_p = showProductionPlan();
        var index = 0; //播放所在下标
        var mTime = setInterval(function() {
                production_plan_chart.dispatchAction({
                    type: 'showTip',
                    seriesIndex: 0,
                    dataIndex: index
                });
                index++;
                if(index > 6) {
                    index =	0;
                }
                //r_p_p = showProductionPlan();
                //production_plan_chart.setOption(r_p_p);
            }, 1000);

        production_plan_chart.setOption(r_p_p);
        

        // ******** Inventory  库存、仓库************
        var inventory_pc_chart = echarts.init(document.getElementById('inv_pc'));
        var  r_ret = showInventoryStatus_PC();

        inventory_pc_chart.setOption(r_ret);
        

        var inventory_server_chart = echarts.init(document.getElementById('inv_server'));
        var rr_ret = showInventoryStatus_Server();

        inventory_server_chart.setOption(rr_ret);

        
        //

        window.addEventListener("resize",function(){
            fault_chart.resize();
            inventory_pc_chart.resize();
            total_shipment_chart.resize();
            production_plan_chart.resize();
            inventory_server_chart.resize();
            hetong_chart.resize();
            hangye_chart.resize();
        });
        
    </script>

</body>
</html>
